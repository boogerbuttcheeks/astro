---
const { title, desc, href, alt, src } = Astro.props
const lightGlow = 'rgb(227, 227, 227)'
const darkGlow = 'rgb(0, 84, 255)'
---

<!-- TODO refactor this... passing in alt prop not working for card image -->
<a href={href}>
<div class='card'>
  <img src={src} alt={href === '/posts/phished'
    ?
    'A tablet and smartphone are next to each other, each displaying a screenshot from the Phished website. The Phished logo, a fish with an envelope for a body, is displayed on the right with the Phished wordmark.'
    : 
    'A grainy gradient made of purple, pink, orange, and red.' 
  }/>
  <p class='title'>{title}</p>
  <p>{desc}</p>
</div>
</a>

<style define:vars={{ lightGlow, darkGlow }}>
  .card {
    cursor: pointer;
    padding: 1rem;
    margin: 2rem 0;
    border-radius: 8px;

    -webkit-user-select: none; /* Safari */        
    -moz-user-select: none; /* Firefox */
    -ms-user-select: none; /* IE10+/Edge */
    user-select: none; /* Standard */
  }

  .card:hover img {
    color: var(--darkGlow);
    box-shadow: 0 0 1rem var(--darkGlow);
    text-shadow: 0 0 1rem var(--darkGlow);
    scale: 1.02;
  }

  :global(.dark) .card:hover img {
    color: var(--lightGlow);
    box-shadow: 0 0 1rem var(--lightGlow);
    text-shadow: 0 0 1rem var(--lightGlow);
  }
  
  img {
    transition: 0.2s;
  }

  p {
    margin: 0;
  }

  a {
    color: inherit;
  }

  a:hover {
    text-decoration: none !important;
  }

  a:focus-visible img {
    color: var(--darkGlow);
    box-shadow: 0 0 1rem var(--darkGlow);
    text-shadow: 0 0 1rem var(--darkGlow);
    scale: 1.02;
  }

  :global(.dark) a:focus-visible img {
    color: var(--lightGlow);
    box-shadow: 0 0 1rem var(--lightGlow);
    text-shadow: 0 0 1rem var(--lightGlow);
  }

  .title {
    font-size: 1.25rem;
    font-weight: 600;
    margin-top: 1.25rem;
  }

  @media (min-width: 40rem) {
    .card {
      margin: 4rem 0;
    }

    .title {
      font-size: 1.75rem;
      font-weight: 600;
      margin-top: 1.75rem;
    }
  }
</style>